# add ref to some POIs
(amenity=bus_station |
    public_transport=platform |
    highway=bus_stop |
    railway=tram_stop |
    railway=halt |
    railway=station)
    & (ref=* | route_ref=*)
        {
        set ref='${ref|def:}(${route_ref})';
        set ref='${ref|subst:;=> |subst:  => }';
        delete route_ref ;
        }

(amenity=bus_station |
  public_transport=platform |
  highway=bus_stop |
  railway=tram_stop |
  railway=halt |
  railway=station)
    & lit=yes
    & (shelter=yes | covered=yes)
        {
        set ref='* ${ref|def:}';
        }

(amenity=bus_station |
  public_transport=platform |
  highway=bus_stop |
  railway=tram_stop |
  railway=halt |
  railway=station)
    & lit!=yes
    & (shelter=yes | covered=yes)
        {
        set ref='^ ${ref|def:}';
        }

(amenity=bus_station |
  public_transport=platform |
  highway=bus_stop |
  railway=tram_stop |
  railway=halt |
  ailway=station)
    & (shelter=no | covered=no)
        {
        set ref='- ${ref|def:}';
        }

(amenity=bus_station |
  public_transport=platform |
  highway=bus_stop |
  railway=tram_stop |
  railway=halt |
  railway=station)
    & (name=* | ref=*)
		# unnamed bus_stop tram_stops etc. remain unnamed - this triggers the icon's name from the styles_typ.txt for the POI-list and also leaves no label on the map
        {
        name '${name|def:H} ${ref}' | '${name|def:H}';
        delete name ;
        delete ref ;
        }

highway=motorway_junction { name '${ref} ${name}'; }

highway=emergency_access_point
        {
        add ref='';
        add name='';
        add operator='';
        add emergency_telephone_code='';
        name '${ref} ${name} ${operator} ${emergency_telephone_code}';
        }

