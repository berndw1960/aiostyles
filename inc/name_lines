# Get the last full word if a \s (whitespace) exist in name
# if the last full word is a roman number - i.e. if a street has been named after a King or
# a Pope - get the last two words
# set the labels used for address search (3&4):
# the 3rd label  is set with the last:word as 1st word followed by comma and the remaining words
# the 4th label skipping the 1st word (that is usually Via, Rue, Avenida etc, so not really useful in search)

( mkgmap:country=ITA |
  mkgmap:country=FRA |
  mkgmap:country=CHE |
  mkgmap:country=ESP |
  mkgmap:country=BEL |
  mkgmap:country=LUX |
  mkgmap:country=DEU |
  mkgmap:country=AUT
  )
  & highway=*
  & name ~ '.*\s.*'
  { set last:word='${name|part: :-1}' }

last:word ~ '(I|II|III|IV|V|VI.*|IX|X|XI.*|XV.*|XX.*)'
  {set last:word='${name|part: >-3}' }

last:word=*
  { set mkgmap:label:3='${last:word}, ${name|part: <-1}';
    set mkgmap:label:4='${name|part: >1}'
    }
